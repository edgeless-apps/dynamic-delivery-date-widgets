"use strict";(self.webpackChunkdynamic_delivery_date_documentation=self.webpackChunkdynamic_delivery_date_documentation||[]).push([[303],{9932:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>d,metadata:()=>r,toc:()=>l});var i=n(4848),a=n(8453);const d={sidebar_position:2},o="Vintage",r={id:"installation/vintage",title:"Vintage",description:"Install on your store theme by inserting code snippet.",source:"@site/docs/installation/vintage.md",sourceDirName:"installation",slug:"/installation/vintage",permalink:"/dynamic-delivery-date-documentation/docs/installation/vintage",draft:!1,unlisted:!1,editUrl:"https://github.com/edgeless-apps/dynamic-delivery-date-documentation/tree/main/docs/installation/vintage.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Online store 2.0",permalink:"/dynamic-delivery-date-documentation/docs/installation/online-store-2.0"},next:{title:"Advanced",permalink:"/dynamic-delivery-date-documentation/docs/category/advanced"}},s={},l=[{value:"App embed",id:"app-embed",level:2},{value:"Code snippet",id:"code-snippet",level:2},{value:"Render code snippet on product page",id:"render-code-snippet-on-product-page",level:2},{value:"Shopify references",id:"shopify-references",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"vintage",children:"Vintage"})}),"\n",(0,i.jsx)(t.p,{children:"Install on your store theme by inserting code snippet."}),"\n",(0,i.jsx)(t.admonition,{type:"caution",children:(0,i.jsxs)(t.p,{children:["This guide might not be consistent with your theme. Contact support at ",(0,i.jsx)(t.a,{href:"mailto:edgeless.apps@gmail.com",children:"edgeless.apps@gmail.com"})," for installation help."]})}),"\n",(0,i.jsx)(t.h2,{id:"app-embed",children:"App embed"}),"\n",(0,i.jsx)(t.p,{children:"In your theme editor, enable the app embed. This adds Javascript to your theme that powers your widgets."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"App embed",src:n(9844).A+"",width:"2762",height:"1294"})}),"\n",(0,i.jsx)(t.h2,{id:"code-snippet",children:"Code snippet"}),"\n",(0,i.jsxs)(t.p,{children:["In your code editor, create new snippet named ",(0,i.jsx)("code",{children:"dynamic-delivery-date-widget"}),". Copy and paste the following"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'{% comment %}\n  Renders a Dynamic Delivery Date widget component\n\n  Accepts:\n  - id: {String} ID for the widget. Generally, app block id is used here. Default: empty (optional)\n  - current_product: {Object} Product Liquid object.\n  - default_variant_id: {String} Default variant ID to apply to widget. Generally, used on cart page to show widget for a line item. Default: empty (optional)\n    - Widget uses product.selected_or_first_available_variant if not provided.\n  - target_selector: {String} Target CSS selector to watch variant selection changes - usually the variant id form input Default: empty (optional)\n  - disable_global_style: {Boolean} Render widget with CSS encapsulation. Default: false (optional)\n  - widget_type: {String} Dynamic "widget.type" value to pass to widget liquid template to customize template for different environments. Default: \'product\' (optional)\n  - widget_payload: {String} Dynamic "widget.payload" json payload value to pass to widget liquid template to customize template for any custom use case. Default: \'null\' (optional)\n\n  Usage:\n  {%- assign current_product = product -%}\n  {%- assign default_variant_id = product.selected_variant.id -%}\n  {%- assign target_selector = \'form[action*="/cart/add"] input[name="id"]\' -%}\n  {%- assign disable_global_style = false -%}\n  {%- assign widget_type = \'product\' -%}\n  {%- capture widget_payload -%}\n  {\n    "shop": {{ shop | json }}\n  }\n  {%- endcapture -%}\n  {% render \'dynamic-delivery-date-widget\', id: current_product.id, current_product: current_product, default_variant_id: default_variant_id target_selector: target_selector, disable_global_style: disable_global_style, widget_type: widget_type, widget_payload: widget_payload %}\n{% endcomment %}\n<dynamic-delivery-date-widget\n  data-id="{{id | default: \'\'}}"\n  data-target="{{target_selector | default: \'\' | escape}}"\n  data-type="{{widget_type | default: \'product\'}}"\n  {% if disable_global_style %}data-disable-global-style{% endif %}\n  role="status"\n>\n  <script data-id="widget_context" type="application/json">\n  {\n    "product": {{current_product | json}},\n    {%- liquid\n      if default_variant_id != blank\n        assign selected_variant_id = default_variant_id\n      else\n        assign selected_variant_id = current_product.selected_variant.id\n      endif\n    -%}\n    "selected_variant_id": {{ selected_variant_id | default: "null" }},\n    {%- assign product_collection_ids = current_product.collections | map: \'id\' -%}\n    "product_collection_ids": {{product_collection_ids | json}}\n  }\n  <\/script>\n  <template data-id="widget_payload" data-type="application/json">\n  {{widget_payload | default: \'null\' | escape}}\n  </template>\n</dynamic-delivery-date-widget>\n'})}),"\n",(0,i.jsx)(t.h2,{id:"render-code-snippet-on-product-page",children:"Render code snippet on product page"}),"\n",(0,i.jsxs)(t.p,{children:["In your code editor, go to sections and open the ",(0,i.jsx)("code",{children:"product-template"})," section."]}),"\n",(0,i.jsx)(t.p,{children:"Under product price, copy and paste the following"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'\x3c!-- BEGIN Dynamic Delivery Date - product widget --\x3e\n{%- assign current_product = product -%}\n{%- assign default_variant_id = product.selected_variant.id -%}\n{%- assign target_selector = \'form[action*="/cart/add"] [name="id"]\' -%}\n{%- assign disable_global_style = false -%}\n{% render \'dynamic-delivery-date-widget\', id: current_product.id, current_product: current_product, default_variant_id: default_variant_id, target_selector: target_selector, disable_global_style: disable_global_style %}\n<script>\n  document.addEventListener("DOMContentLoaded", function () {\n    // patch - dispatch target selector\'s change event for vintage theme\n    const changePatchSelector = "[data-section-type=product]";\n    document\n      .querySelector(changePatchSelector)\n      .addEventListener("change", function () {\n        document\n          .querySelector(\'{{target_selector}}\')\n          .dispatchEvent(new Event("change"));\n      });\n  });\n<\/script>\n\x3c!-- BEGIN Dynamic Delivery Date - product widget --\x3e\n'})}),"\n",(0,i.jsx)(t.p,{children:"For paste location reference:"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)("code",{children:"product-template"}),"\n",(0,i.jsx)(t.img,{alt:"Vintage render snippet",src:n(5559).A+"",width:"2756",height:"1392"})]}),"\n",(0,i.jsx)(t.h2,{id:"shopify-references",children:"Shopify references"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://help.shopify.com/en/manual/online-store/themes/themes-by-shopify/vintage-themes/customizing-vintage-themes",children:"Customizing vintage themes"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://help.shopify.com/en/manual/online-store/themes/managing-themes/versions",children:"Theme architecture versions"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://help.shopify.com/en/manual/online-store/themes/theme-structure/extend/apps#app-embeds",children:"Extend your theme with apps"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://shopify.dev/docs/storefronts/themes/architecture#snippets",children:"Snippets"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://shopify.dev/docs/api/liquid/tags/render",children:"Render liquid tag"})}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},9844:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/app-embed-33ab3bbade7c3af2f891b09e90693409.png"},5559:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/vintage-render-snippet-ffab509f138479567a7a6df2908def09.png"},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var i=n(6540);const a={},d=i.createContext(a);function o(e){const t=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(d.Provider,{value:t},e.children)}}}]);